<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./style.css">
</head>

<h2>Own code. Sort table </h2>
<h2>*Сводная таблица результатов тестирования соковыжималок по методике iXBT.com</h2>
<table class="simple-little-table" style="width: 100%; vertical-align: middle !important; border-spacing: -1em;"
  cellspacing="0">
  <thead>
    <tr>
      <th data-type="model" style="width: 32.0215%; height: 26px;"><strong>Модель</strong></th>
      <th data-type="type" style="width: 27.9785%; height: 26px;"><strong>Тип</strong></th>
      <th data-type="speed" style="width: 16%; height: 26px;"><strong>Скорость (время)</strong></th>
      <th data-type="efficiency" style="width: 15%; height: 26px;"><strong>Эффективность (граммы)</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr style="height: 26px;">
      <td style="width: 32.0215%; height: 26px;">Kitfort KT-1101</td>
      <td style="width: 27.9785%; height: 26px; text-align: left;"><span>шнековая вертикальная</span></td>
      <td style="width: 16%; height: 26px;"><span>3:14</span></td>
      <td style="width: 15%; height: 26px;"><span>672</span></td>
    </tr>
    <tr style="height: 26px;">
      <td style="width: 32.0215%; height: 26px;">Moulinex Easy Fruit JU58113E</td>
      <td style="width: 27.9785%; height: 26px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 26px;"><span>1:05</span></td>
      <td style="width: 15%; height: 26px;"><span>613</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-M920S</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;"><span>2:07</span></td>
      <td style="width: 15%; height: 13px;">665</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Caso SJW400</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">2:19</td>
      <td style="width: 15%; height: 13px;"><span>656</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Princess VitaPure 202041</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">3:15</td>
      <td style="width: 15%; height: 13px;"><span>624</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Philips HR1836</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;"><span>центрифужная</span></td>
      <td style="width: 16%; height: 13px;"><span>1:18</span></td>
      <td style="width: 15%; height: 13px;"><span>512</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Unit UCJ-411</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;"><span>1:24</span></td>
      <td style="width: 15%; height: 13px;"><span>453</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Panasonic MJ-SJ01</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">0:44</td>
      <td style="width: 15%; height: 13px;">570</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a href="/product/tribest-slowstar-sw-2000-b">Tribest Slowstar
          SW-2000</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:05</td>
      <td style="width: 15%; height: 13px;">644</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Аксион СЦ 32.02 Джус</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">1:21</td>
      <td style="width: 15%; height: 13px;">586</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Rawmid JDM-80</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:06</td>
      <td style="width: 15%; height: 13px;">623</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-M906</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">1:11</td>
      <td style="width: 15%; height: 13px;">515</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a href="/product/sokovyzhimalka-sana-juicer-euj-707-bronzovaya">Sana
          EUJ-707</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">4:21</td>
      <td style="width: 15%; height: 13px;">604</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Panasonic MJ-L500</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:10</td>
      <td style="width: 15%; height: 13px;">697</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1104</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">2:18</td>
      <td style="width: 15%; height: 13px;">653</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a href="/product/sana-euj-808-oranzhevaya">Sana EUJ808</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:15</td>
      <td style="width: 15%; height: 13px;">643</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a href="/product/omega-twin-gear-juicer-twn30s">Omega TWN32R</a>
      </td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">двухшнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">8:07</td>
      <td style="width: 15%; height: 13px;">691</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a
          href="/product/sokovyzhimalka-sana-juicer-euj-606-chyornyy-matovyy">Sana EUJ-606</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">3:21</td>
      <td style="width: 15%; height: 13px;"><span>687</span></td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-M908</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">1:25</td>
      <td style="width: 15%; height: 13px;">603</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a
          href="/product/sokovyzhimalka-hurom-alpha-plus-h-aa-DBE19-serebristyy">Hurom H-AA-LBE17</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">2:44</td>
      <td style="width: 15%; height: 13px;">667</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a
          href="/product/sokovyzhimalka-hurom-alpha-plus-HZ-SBE19-metall">Hurom HZ-SBE17</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:40</td>
      <td style="width: 15%; height: 13px;">607</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Rawmid JDV-03</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">2:58</td>
      <td style="width: 15%; height: 13px;">679</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-M911</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">1:06</td>
      <td style="width: 15%; height: 13px;">642</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1105</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">2:48</td>
      <td style="width: 15%; height: 13px;">622</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a
          href="/product/sokovyzhimalka-hurom-h-100-4-pokolenie-platinovyy-serebristyy">Hurom H-100-SBEA01</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">4:00</td>
      <td style="width: 15%; height: 13px;">634</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a
          href="/product/sokovyzhimalka-tribest-green-star-elite-gse-5000-hrom">Tribest GreenStar Pro GS-P502</a>
      </td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">двухшнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">7:36</td>
      <td style="width: 15%; height: 13px;">727</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;"><a href="/product/sokovyzhimalka-hurom-gi-sbe08-serebristyy">Hurom
          GI-SBE-08</a></td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">5:14</td>
      <td style="width: 15%; height: 13px;">671</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1111</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">4:39</td>
      <td style="width: 15%; height: 13px;">580</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1110</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая горизонтальная</td>
      <td style="width: 16%; height: 13px;">7:00</td>
      <td style="width: 15%; height: 13px;">561</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-912S</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">4:41</td>
      <td style="width: 15%; height: 13px;">552</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1114</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">4:04</td>
      <td style="width: 15%; height: 13px;">617</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Gemlux GL-SJ8150</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:32</td>
      <td style="width: 15%; height: 13px;">645</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Rawmid Vitamin RVJ-02</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:32</td>
      <td style="width: 15%; height: 13px;">646</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-980S</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">4:25</td>
      <td style="width: 15%; height: 13px;">628</td>
    </tr>
    <tr style="height: 13.75px;">
      <td style="width: 32.0215%; height: 13.75px;">Gemlux GL-SJ335</td>
      <td style="width: 27.9785%; height: 13.75px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13.75px;">3:38</td>
      <td style="width: 15%; height: 13.75px;">634</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Redmond RJ-916</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">центрифужная</td>
      <td style="width: 16%; height: 13px;">0:55</td>
      <td style="width: 15%; height: 13px;">574</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Rawmid RGJ-03</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">3:06</td>
      <td style="width: 15%; height: 13px;">636</td>
    </tr>
    <tr style="height: 13px;">
      <td style="width: 32.0215%; height: 13px;">Kitfort KT-1118</td>
      <td style="width: 27.9785%; height: 13px; text-align: left;">шнековая вертикальная</td>
      <td style="width: 16%; height: 13px;">4:41</td>
      <td style="width: 15%; height: 13px;">643</td>
    </tr>
  </tbody>
</table>

<script>
  const tableOfJuicers = document.querySelector('.simple-little-table');

  tableOfJuicers.querySelector('thead tr').onclick = event => {
    const table = event.currentTarget.closest('table');
    let tbody = table.tBodies[0];
    const cellIndex = event.target.cellIndex; // 0, 1 etc.
    console.log('cellIndex:', cellIndex)
    const tbodyRows = Array.from(tbody.rows)
    const sortType = event.target.dataset.type;

    const result = tbodyRows.sort((a, b) => {
      switch (sortType) {
        case 'model':
          return a.cells[cellIndex].innerText.localeCompare(b.cells[cellIndex].innerText, 'ru', { sensitivity: 'base' })
          break;
        case 'type':
          return a.cells[cellIndex].innerText.localeCompare(b.cells[cellIndex].innerText, 'ru', { sensitivity: 'base' })
          break;
        case 'speed':
          let cellA = a.cells[cellIndex].innerText.replaceAll(':', '')
          let cellB = b.cells[cellIndex].innerText.replaceAll(':', '')
          return +cellA - +cellB;
          break;
        case 'efficiency':
          return +a.cells[cellIndex].innerText - +b.cells[cellIndex].innerText;
          break;
      }
    });

    tbody.append(...result);

    reset.addEventListener('click', () => {
      tbody.append(...resetSort)
    })
  };
</script>

<body>
  <h2>Task # 1. Спрячьте сообщения с помощью делегирования</h2>
  <div id="container">
    <div class="pane">
      <h3>Лошадь</h3>
      <p>Домашняя лошадь - животное семейства непарнокопытных, одомашненный и единственный сохранившийся подвид дикой
        лошади, вымершей в дикой природе, за исключением небольшой популяции лошади Пржевальского.</p>
      <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
      <h3>Осёл</h3>
      <p>Домашний осёл или ишак — одомашненный подвид дикого осла, сыгравший важную историческую роль в развитии
        хозяйства и культуры человека. Все одомашненные ослы относятся к африканским ослам.</p>
      <button class="remove-button">[x]</button>
    </div>
    <div class="pane">
      <h3>Кошка</h3>
      <p>Кошка, или домашняя кошка (лат. Félis silvéstris cátus), — домашнее животное, одно из наиболее популярных
        (наряду с собакой) "животных-компаньонов". С точки зрения научной систематики, домашняя кошка — млекопитающее
        семейства кошачьих отряда хищных. Ранее домашнюю кошку нередко рассматривали как отдельный биологический вид.
      </p>
      <button class="remove-button">[x]</button>
    </div>
  </div>

  <script>
    document.addEventListener('click', (event) => {
      let item = event.target.closest('div.pane');
      if (event.target.className !== 'remove-button') return;

      item.remove();
    })
  </script>


  <code>
    document.addEventListener('click', (event) => {
      let item = event.target.closest('div.pane');
      if (event.target.className !== 'remove-button') return;

      item.remove();
    })
</code>

  <hr>


  <h2>Task # 2. Раскрывающееся дерево</h2>
  <ul class="tree" id="tree">
    <li>Животные
      <ul>
        <li>Млекопитающие
          <ul>
            <li>Коровы</li>
            <li>Ослы</li>
            <li>Собаки</li>
            <li>Тигры</li>
          </ul>
        </li>
        <li>Другие
          <ul>
            <li>Змеи</li>
            <li>Птицы</li>
            <li>Ящерицы</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Рыбы
      <ul>
        <li>Аквариумные
          <ul>
            <li>Гуппи</li>
            <li>Скалярии</li>
          </ul>
        </li>
        <li>Морские
          <ul>
            <li>Морская форель</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <script>
    function wrap(li, className) {
      const wrapper = document.createElement('span');
      wrapper.classList = className;

      li.prepend(wrapper);
      wrapper.append(wrapper.nextSibling);
    }

    tree.querySelectorAll('li').forEach(li => {
      wrap(li, 'tree-li')
    });

    tree.addEventListener(`click`, (evt) => {
      if (evt.target.tagName !== `SPAN`) return;
      const childUl = evt.target.parentNode.querySelector(`ul`);

      if (childUl) childUl.hidden = !childUl.hidden;
    });
  </script>


  <code>
    function wrap(li, className) {
      const wrapper = document.createElement('span');
      wrapper.classList = className;

      li.prepend(wrapper);
      wrapper.append(wrapper.nextSibling);
    }

    tree.querySelectorAll('li').forEach(li => {
      wrap(li, 'tree-li')
    });

    tree.addEventListener(`click`, (evt) => {
      if (evt.target.tagName !== `SPAN`) return;
      const childUl = evt.target.parentNode.querySelector(`ul`);

      if (childUl) childUl.hidden = !childUl.hidden;
    });
</code>

  <hr>


  <h2>Task # 3. Сортируемая таблица</h2>
  <table id="grid">
    <thead>
      <tr>
        <th data-type="age">Возраст</th>
        <th data-type="name">Имя</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>5</td>
        <td>Вася</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Петя</td>
      </tr>
      <tr>
        <td>12</td>
        <td>Женя</td>
      </tr>
      <tr>
        <td>9</td>
        <td>Маша</td>
      </tr>
      <tr>
        <td>1</td>
        <td>Илья</td>
      </tr>
    </tbody>
    <button id="reset">Reset sort</button>
  </table>


  <script>
    const resetSort = Array.from(grid.tBodies[0].rows);

    grid.querySelector('thead tr').onclick = event => {
      if (event.target.tagName != 'TH') return;

      const sortType = event.target.dataset.type;
      const table = event.currentTarget.closest('table');
      let tbody = table.tBodies[0];
      const cellIndex = event.target.cellIndex; // 0, 1 etc.
      const tbodyRows = Array.from(tbody.rows)

      const result = tbodyRows.sort((a, b) => {
        switch (sortType) {
          case 'age':
            return +a.cells[cellIndex].innerText - +b.cells[cellIndex].innerText;
            break;
          case 'name':
            return a.cells[cellIndex].innerText.localeCompare(b.cells[cellIndex].innerText, 'ru', { sensitivity: 'base' })
            break;
        }
      });

      tbody.append(...result);

      reset.addEventListener('click', () => {
        tbody.append(...resetSort)
      })
    }

  </script>


  <code>
    const resetSort = Array.from(grid.tBodies[0].rows);

    grid.querySelector('thead tr').onclick = event => {
      if (event.target.tagName != 'TH') return;

      const sortType = event.target.dataset.type;
      const table = event.currentTarget.closest('table');
      let tbody = table.tBodies[0];
      const cellIndex = event.target.cellIndex; // 0, 1 etc.
      const tbodyRows = Array.from(tbody.rows)

      const result = tbodyRows.sort((a, b) => {
        switch (sortType) {
          case 'age':
            return +a.cells[cellIndex].innerText - +b.cells[cellIndex].innerText;
            break;
          case 'name':
            return a.cells[cellIndex].innerText.localeCompare(b.cells[cellIndex].innerText, 'ru', { sensitivity: 'base' })
            break;
        }
      });

      tbody.append(...result);

      reset.addEventListener('click', () => {
        tbody.append(...resetSort)
      })
</code>

  <hr>


  <h2>Task # 4. Поведение "подсказка"</h2>

  <button data-tooltip="эта подсказка должна быть длиннее, чем элемент">Короткая кнопка</button>
  <button data-tooltip="HTML<br>подсказка">Ещё кнопка</button>

  <p>Прокрутите страницу, чтобы кнопки оказались у верхнего края, а затем проверьте правильно ли выводятся подсказки.
  </p>

  <script>
    let div;

    document.addEventListener('mouseover', (event) => {
      const tooltip = event.target.dataset.tooltip;
      const margin = 5;

      if (!tooltip) return;

      div = document.createElement('div');
      div.innerHTML = tooltip;
      div.classList.add('div-tooltip');
      document.body.append(div);

      const clientRect = event.target.getBoundingClientRect();
      const coords = {
        left: clientRect.left + (event.target.offsetWidth - div.offsetWidth) / 2,
        top: clientRect.top - div.offsetHeight - margin
      };

      if (clientRect.top - div.offsetHeight - margin < 0) {
        coords.top = clientRect.top + event.target.offsetHeight + margin;
      }

      if (clientRect.left - (event.target.offsetWidth - div.offsetWidth) / 2 < 0) {
        coords.left = 0;
      }

      div.style.top = coords.top + 'px';
      div.style.left = coords.left + 'px';
    });

    document.addEventListener('mouseout', event => {
      if (div) {
        div.remove();
        div = null;
      }
    });
  </script>


  <code>
    let div;

    document.addEventListener('mouseover', (event) => {
      const tooltip = event.target.dataset.tooltip;
      const margin = 5;

      if (!tooltip) return;

      div = document.createElement('div');
      div.innerHTML = tooltip;
      div.classList.add('div-tooltip');
      document.body.append(div);

      const clientRect = event.target.getBoundingClientRect();
      const coords = {
        left: clientRect.left + (event.target.offsetWidth - div.offsetWidth) / 2,
        top: clientRect.top - div.offsetHeight - margin
      };

      if (clientRect.top - div.offsetHeight - margin < 0) {
        coords.top = clientRect.top + event.target.offsetHeight + margin;
      }

      if (clientRect.left - (event.target.offsetWidth - div.offsetWidth) / 2 < 0) {
        coords.left = 0;
      }

      div.style.top = coords.top + 'px';
      div.style.left = coords.left + 'px';
    });

    document.addEventListener('mouseout', event => {
      if (div) {
        div.remove();
        div = null;
      }
    });
</code>

  <hr>

</body>

</html>