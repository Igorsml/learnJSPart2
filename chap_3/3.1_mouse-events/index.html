<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mouse events</title>
  <link rel="apple-touch-icon" sizes="180x180" href="../../favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../favicon/favicon-16x16.png.png">
  <link rel="manifest" href="../../favicon/site.webmanifest">
  <link rel="mask-icon" href="../../favicon/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <link rel="stylesheet" href="./style.css">
</head>

<body>

  <h2>Task # 1. Выделяемый список</h2>
  <p>Создайте список, в котором элементы могут быть выделены, как в файловых менеджерах.

    При клике на элемент списка выделяется только этот элемент (добавляется класс .selected), отменяется выделение
    остальных элементов.
    Если клик сделан вместе с Ctrl (Cmd для Mac), то выделение переключается на элементе, но остальные элементы при этом
    не изменяются.
    P.S. В этом задании все элементы списка содержат только текст. Без вложенных тегов.

    P.P.S. Предотвратите стандартное для браузера выделение текста при кликах.</p>

  <p>Кликни на элемент списка, чтобы выделить его.</p>

  <ul id="ul">
    <li>Кристофер Робин</li>
    <li>Винни Пух</li>
    <li>Тигра</li>
    <li>Кенга</li>
    <li>Кролик. Просто Кролик.</li>
  </ul>

  <script>
    const list = document.querySelector('#ul');
    const liList = document.querySelectorAll('#ul li');

    list.addEventListener('mousedown', (e) => {
      if (event.target.tagName != "LI") return;
      if (!e.ctrlKey) liList.forEach((list) => list.classList.remove('selected'));
      if (e.target.tagName === 'LI') {
        e.target.classList.add('selected');
      }
    });

    list.onmousedown = (e) => false;
  </script>
  <code>
    const list = document.querySelector('#ul');
    const liList = document.querySelectorAll('#ul li');

    list.addEventListener('mousedown', (e) => {
      if (event.target.tagName != "LI") return;
      if (!e.ctrlKey) liList.forEach((list) => list.classList.remove('selected'));
      if (e.target.tagName === 'LI') {
        e.target.classList.add('selected');
      }
    });

    list.onmousedown = (e) => false;
  </code>

  <hr>


  <script src="./3.1_mouse-events.js"></script>
</body>

</html>